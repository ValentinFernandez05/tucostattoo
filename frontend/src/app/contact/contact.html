<div class="container my-5">
  <h1 class="text-center mb-4">Contacto</h1>
  <div class="row justify-content-center">
    <div class="col-md-6">
      <form (submit)="sendEmail($event)">
        <div class="mb-3">
          <label for="name" class="form-label">Nombre</label>
          <input
            type="text"
            class="form-control"
            id="name"
            [(ngModel)]="name"
            name="name"
            required
          />
        </div>
        <div class="mb-3">
          <label for="email" class="form-label">Email</label>
          <input
            type="email"
            class="form-control"
            id="email"
            [(ngModel)]="email"
            name="email"
            required
          />
        </div>
        <div class="mb-3">
          <label for="message" class="form-label">Mensaje</label>
          <textarea
            class="form-control"
            id="message"
            rows="5"
            [(ngModel)]="message"
            name="message"
            required
          ></textarea>
        </div>

        <!-- Botón con spinner -->
        <button 
          type="submit" 
          class="btn btn-dark d-flex align-items-center justify-content-center px-4 py-2" 
          [disabled]="isSending"
        >
          <!-- Estado normal -->
          <ng-container *ngIf="!isSending">
            <span>Enviar</span>
          </ng-container>

          <!-- Estado enviando -->
          <ng-container *ngIf="isSending">
            <div class="spinner-border spinner-border-sm text-light me-2" role="status"></div>
            <span>Enviando...</span>
          </ng-container>
        </button>

          </form>

      <!-- Mensajes de feedback -->
      <div *ngIf="sendSuccess === true" class="alert alert-success mt-3">
        ¡Mensaje enviado con éxito!
      </div>
      <div *ngIf="sendSuccess === false" class="alert alert-danger mt-3">
        Hubo un error al enviar el mensaje. Inténtalo más tarde.
      </div>
    </div>
  </div>
</div>
